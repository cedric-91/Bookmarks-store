"use strict";function deleteAllBookmarks(){}function getBookmarks(){for(var e=JSON.parse(window.localStorage.getItem(key)),t=document.querySelector(".bookmarks-results-wrap");i<e.length;i++){var o=e[i].name,r=e[i].url,s='<div class="bookmarks-results"><div class="left-cloumn"><h2 class="second-header">'+o+'</h2><a href="'+r+'" class="btn btn-link" target="_blank">Visit site</a></div><div class="right-column"><a onclick="deleteBookmarks(\''+r+'\')" class="btn btn-delete" href="#">delete</a></div></div>';t.innerHTML+=s;for(var a=document.querySelectorAll(".bookmarks-results"),l=0;l<a.length;l++)a[l].style.opacity=1}}function deleteBookmarks(e){for(var t=JSON.parse(window.localStorage.getItem(key)),o=0;o<t.length;o++)t[o].url===e&&t.splice(o,1);return window.localStorage.setItem(key,JSON.stringify(t)),getBookmarks(),location.reload(),!1}function checkWebStorage(){if(null===typeof Storage)msg+="Please upgrade your browser",window.alert(msg);else if(null!==window.localStorage.getItem(key))getBookmarks();else{var e='<p class="bold align-center" id="results-msg">'+(text+="Bookmarks Empty")+"</p>";resultsContainer.innerHTML=e}}function formValidation(e,t){return""!==e&&""!==t||(text+="The form must be filled in",msg.style.display="block",msg.className="msg-warning",msg.innerHTML=text,!1)}function bookmarksExist(e,t){for(var o=JSON.parse(window.localStorage.getItem(key)),r=0;r<o.length;r++)if(o[r].name===e||o[r].url===t)return text+="Bookmarks already exist",msg.style.display="block",msg.className="msg-warning",msg.innerHTML=text,!1;return!0}function saveBookmarks(e){var t=document.getElementById("siteName").value,o=document.getElementById("siteURL").value;if(!formValidation(t,o)||!bookmarksExist(t,o))return!1;var r={name:t,url:o},s=[];myForm.reset(),null===window.localStorage.getItem(key)?(s.push(r),window.localStorage.setItem(key,JSON.stringify(s))):((s=JSON.parse(window.localStorage.getItem(key))).push(r),window.localStorage.setItem(key,JSON.stringify(s))),document.getElementById("results-msg")&&(resultsContainer.innerHTML=""),getBookmarks(),e.preventDefault()}var key="bookmarks",i=0,text="",myForm=document.getElementById("myForm"),msg=document.getElementById("msg"),resultsContainer=document.querySelector(".bookmarks-results-wrap");myForm.addEventListener("submit",saveBookmarks),window.onload=checkWebStorage;